# Отчет по индивидуальному заданию №4 (*на 8 баллов*)
## Работу выполнил Максимов Никита Иванович 
## Группа БПИ227 Вариант 20
___
### Формулировка задания
На клумбе растет 40 цветов, за ними непрерывно следят два садовника и поливают увядшие цветы, при этом оба садовника очень боятся полить один и тот же цветок, который еще не начал вянуть. Создать многопоточное приложение,
моделирующее состояния цветков на клумбе и действия садовников. Каждый цветок — отдельный поток который следит
за своим состоянием и информирует, что он полит, увядает (нужно полить), засох или перелит и сгнил (бесполезно
поливать). Каждый садовник задается отдельным потоком.
*Это условия ИДЗ для варианта №20.*
___
### Сценарий
Я интерпритировал задание как некую клумбу, в который растут цветы, постоянно меняющие свое состояние. Можно сказать очень тербовательные к внешним обстоятельствам цветы. Они меняют свое сосотояние с вероятностью 50%. За этой клумбой следят два садовника, которые следят за проиходящим и стараются полить, как можно больше цветов. По прошествии времени, мы смотрим сколько цветов погибло. Цветы как потоки постоянно меняют свое состояние и оповещают об этом, а вот садовники пытаются за всем этим уследить и решить проблему с увядающими цветами.
___
### Алгоритм программы
Данные о состоянии цветов генерируются случайно или и вводятся из файла. Дальше запускаются потоки, которые меняют состояние массива цветов (поток-цветок или поток-садовник). Стоить отметить, когда садовник поливает цветок, то он становиться СВЕЖИМ и уже дальше меняет свое сотсояние от этой категории состояний. Так как потоки обраащаются к одному массиву, то используется мьютекс дял корректного взаимодейтсвия потоков с данными. Как птоки закончили свою работу, проходимся по данным, чтобы узнать сколько цветов испротились.

### Модель многопоточного приложения - Портфель задач (Разделение задачи с помощью мьютекса).
___
#### Этапы и оценки
Проведя анализ задачи и требований, было принято решение выполнить следущие подзадачи:
+ (*4-5 баллов:*) Базовый набор задач:
  + Сценарий задачи(выше)
  + Модель приложения(выше)
  + Входные данные из консоли(дальше заменено на файл) 
  + Комментарии в программе, поясняющие работу той или иной строчки кода
  + Реализация консольного приложения на языке программирования С++
  + Добавлена Y/N консоль для вывода результатов программы в файл
  + Результаты представлены ниже.
+ (*6-7 баллов:*) Сравнивая с предыдущей версией программы, произошли следующие изменения:
  + Генерация случайных состояний цветковэ
  + Алгоритм программы(выше)
+ (*8 баллов:*)
  + Вывод в файл и одновременный вывод на экран
  + Ввод данных из файла или генерация массива случайных стотояний для цветов в клумбе
  + Тестовые программы не имеют значимого применения, потому что в программе изменения цветов случайно. По этой, на мой взгляд, веской причине тестовые задания не сделаны.
  
Более подробно с написанным кодом вы можете ознакомиться в следующем разделе.
___
### Текст программы
Код программы на языке С++ представлен тут [Основная программа](IDZ4.cpp);

### Результаты
Результат программы:

#### Изменения объектов во время работы (к сожайлению, вся консол  не влезает на экран, поэтому я выделил часть программы)
![image](https://github.com/waksimusss/IDZ4/assets/113054845/33d10cab-8ab1-4d8c-b6fc-7fd9e1330d42)

#### Основной вывод программы
![image](https://github.com/waksimusss/IDZ4/assets/113054845/fdabdaae-d5fc-49b5-b942-b7ffd4b96616)




